{
  "name": "ğŸš€è¶…å¼ºTSæµæ‹¦æˆª",
  "hosts": ["*"],
  "regex": [
    // åŸºç¡€ç‰¹å¾å¢å¼º
    "(#EXT-X-DISCONTINUITY[\\r\\n]+#EXTINF:(3|5|10|15)(\\.\\d+)?,[\\s\\S]*?/(ad[s]?|promo)/.*?\\.ts)",
    
    // æ–°å‹åŠ å¯†å¹¿å‘Šæ£€æµ‹
    "(#EXT-X-KEY:METHOD=AES-128,URI=\"[^\"]*/(ads_enc|vip_promo)/[^\"]*\")",
    
    // åŠ¨æ€å¹¿å‘Šæ ‡è®°
    "(#UPLYNK-SEGMENT.*?(?:duration=\\d{15,}|asset-id=ad_))",
    
    // æ—¶é—´æˆ³å¼‚å¸¸æ£€æµ‹
    "(#EXT-X-PROGRAM-DATE-TIME:.*?(?:202[3-9]-0[135]-3[12]T23:59|0000-00-00))",
    
    // å¹¿å‘Šåºåˆ—ç‰¹å¾
    "(#EXTINF:(5\\.000|15\\.000),.*?(_ad_\\d{3}|seg-ad-)\\.ts)",
    
    // éšè—å¼å¹¿å‘Šæµ
    "(#EXT-X-MAP:URI=\"[^\"]*/(splash|interstitial)/[^\"]*.(ts|mp4)\")",
    
    // åŠ¨æ€å¹¿å‘Šæ’å…¥æ ‡è®°
    "(#EXT-X-SCTE35:(CUE-OUT|CUE-IN).*?ID=/ad/break)",
    
    // å¹¿å‘Šå†…å®¹å“ˆå¸Œç‰¹å¾
    "(#EXT-X-AD-HASH:([A-F0-9]{32}|[a-f0-9]{64}))"
  ]
},

{
  "name": "â™»ï¸AIåŠ¨æ€å­¦ä¹ è§„åˆ™",
  "hosts": ["*"],
  "regex": [
    "#EXT-X-DISCONTINUITY[\\r\\n]+#EXTINF:(?:\\d{1,2}\\.\\d+|\\d+),.*?[^\\n]+?(?:logo|promo)\\.ts\\b",
    "(?:\\/ad\\/|\\/adv\\/|_banner_)\\d{6}\\.ts(?:\\?token=[A-Za-z0-9]+)?",
    "http[s]?://(?:[a-z0-9-]+\\.)?(?:akamai|cloudfront)\\.net/.*?\\/(?:preroll|midroll)\\."
  ]
},

{
  "name": "â™»ï¸å…ƒæ•°æ®å‡€åŒ–",
  "protocols": ["hls","dash","rtmp"],
  "actions": [
    "remove_xml_node('AdOpportunity')",
    "modify_manifest(delete:#EXT-X-SPLICEPOINT)",
    "rewrite_url(scheme=https; path=/clean/)" 
  ]
},
{
  "name": "ğŸ’‰æ’­æ”¾å™¨åŸºå› æ¸…æ´—",
  "hosts": ["*"],
  "regex": [
    // å¹¿å‘Šå®¹å™¨ç‰¹å¾
    "<div\\s+class=[\"'](?:ad-container|player-ads|ad-wrapper)",
    
    // å¹¿å‘Šè„šæœ¬æ³¨å…¥
    "<script\\s+src=[\"'](?:https?:)?//[^/]+/(ads|adx)/\\w+\\.js",
    
    // è§†é¢‘è¦†ç›–å¹¿å‘Š
    "<video-ads\\s+[^>]*(?:vpaid|companion)",
    
    // æ’­æ”¾å™¨å¹¿å‘ŠAPI
    "player\\.(?:initAd|loadAd)\\([^)]*\\)",
    
    // å¹¿å‘Šæ ·å¼ç‰¹å¾
    "\\bposition:\\s?(absolute|fixed).*?z-index:\\s?9999"
  ]
},
{
  "name": "ğŸ›‘å¹¿å‘Šåè®®é˜»æ–­",
  "hosts": ["*"],
  "regex": [
    // VASTå¹¿å‘Šåè®®
    "<VAST\\s+version=\"[3-4]",
    
    // VPAIDå®¹å™¨
    "vpaid-container.js",
    
    // IMA SDKç‰¹å¾
    "imasdk\\.googleapis\\.com",
    
    // å¹¿å‘Šä¿¡æ ‡
    "/ad/tracker\\.gif\\?.*?(?:pid=|cid=)"
  ]
},
